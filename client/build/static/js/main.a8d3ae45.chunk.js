(this["webpackJsonprent-me-client"]=this["webpackJsonprent-me-client"]||[]).push([[0],{142:function(e,t,n){},143:function(e,t,n){},153:function(e,t,n){"use strict";n.r(t);var a,c,r,s,i=n(1),o=n.n(i),l=n(47),j=n.n(l),d=(n(141),n(142),n(34)),u=(n(143),n(50)),b=n(15),m=n(125),h=n(178),p=n(181),O=n(176),x=n(124),g=n(3),f=function(){return Object(g.jsx)("footer",{className:"w-100 mt-auto bg-secondary p-4",children:Object(g.jsxs)("div",{className:"container",children:["\xa9",(new Date).getFullYear()," by Shelby, Travis, Bo & Brendan"]})})},v=n(117),w=n(118),y=n(99),k=new(function(){function e(){Object(v.a)(this,e)}return Object(w.a)(e,[{key:"getProfile",value:function(){return Object(y.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return Object(y.a)(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),N=function(){return Object(g.jsx)("header",{children:Object(g.jsxs)("div",{children:[Object(g.jsx)(u.b,{to:"/",children:Object(g.jsx)("h1",{children:"Explorer"})}),Object(g.jsx)("nav",{className:"text-center",children:k.loggedIn()?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(u.b,{to:"/profile",children:"Me"}),Object(g.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),k.logout()},children:"Logout"})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(u.b,{to:"/login",children:"Login"}),Object(g.jsx)(u.b,{to:"/signup",children:"Signup"})]})})]})})},S=function(){return Object(g.jsxs)("body",{className:"main-page",children:[Object(g.jsx)("h1",{children:" Let's explore the world with us "}),Object(g.jsxs)("h2",{children:["Please log-in first",Object(g.jsx)("nav",{})]})]})},$=n(177),C=n(180),I=Object(g.jsx)($.a,{src:"/images/wireframe/short-paragraph.png"}),T=function(){return Object(g.jsxs)(C.a.Group,{children:[Object(g.jsxs)(C.a,{children:[Object(g.jsx)(C.a.Image,{size:"tiny",src:"/images/wireframe/image.png"}),Object(g.jsxs)(C.a.Content,{children:[Object(g.jsx)(C.a.Header,{children:"Arrowhead Valley Camp"}),Object(g.jsxs)(C.a.Meta,{children:[Object(g.jsx)("span",{className:"price",children:"$1200"}),Object(g.jsx)("span",{className:"stay",children:"1 Month"})]}),Object(g.jsx)(C.a.Description,{children:I})]})]}),Object(g.jsxs)(C.a,{children:[Object(g.jsx)(C.a.Image,{size:"tiny",src:"/images/wireframe/image.png"}),Object(g.jsxs)(C.a.Content,{children:[Object(g.jsx)(C.a.Header,{children:"Buck's Homebrew Stayaway"}),Object(g.jsx)(C.a.Meta,{content:"$1000 2 Weeks"}),Object(g.jsx)(C.a.Description,{children:I})]})]}),Object(g.jsxs)(C.a,{children:[Object(g.jsx)(C.a.Image,{size:"tiny",src:"/images/wireframe/image.png"}),Object(g.jsx)(C.a.Content,{header:"Arrowhead Valley Camp",meta:"$1200 1 Month"})]})]})},B=n(87),_=n(55),D=n(66),F=n(65),L=n.n(F),M=n(182),P=n(75),z=n(179),A=Object(z.a)(a||(a=Object(P.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),E=Object(z.a)(c||(c=Object(P.a)(["\n  mutation addUser($username: String!, $email: String!, $password: String!) {\n    addUser(username: $username, email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),U=(Object(z.a)(r||(r=Object(P.a)(["\n  mutation addPost($postText: String!) {\n    addPost(postText: $postText) {\n      _id\n      postText\n      createdAt\n      username\n      reactionCount\n      reactions {\n        _id\n      }\n    }\n  }\n"]))),Object(z.a)(s||(s=Object(P.a)(["\n  mutation addReaction($postId: ID!, $reactionBody: String!) {\n    addReaction(postId: $postId, reactionBody: $reactionBody) {\n      _id\n      reactionCount\n      reactions {\n        _id\n        reactionBody\n        createdAt\n        username\n      }\n    }\n  }\n"]))),function(e){var t=Object(i.useState)({email:"",password:""}),n=Object(D.a)(t,2),a=n[0],c=n[1],r=Object(M.a)(A),s=Object(D.a)(r,2),o=s[0],l=s[1].error,j=function(e){var t=e.target,n=t.name,r=t.value;c(Object(d.a)(Object(d.a)({},a),{},Object(_.a)({},n,r)))},u=function(){var e=Object(B.a)(L.a.mark((function e(t){var n,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,o({variables:Object(d.a)({},a)});case 4:n=e.sent,r=n.data,k.login(r.login.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:c({email:"",password:""});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(g.jsx)("div",{className:"col-12 col-md-6",children:Object(g.jsxs)("div",{className:"card",children:[Object(g.jsx)("h4",{className:"card-header",children:"Login"}),Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsxs)("form",{onSubmit:u,children:[Object(g.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",id:"email",value:a.email,onChange:j}),Object(g.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",id:"password",value:a.password,onChange:j}),Object(g.jsx)("button",{className:"btn d-block w-100",type:"submit",children:"Submit"})]}),l&&Object(g.jsx)("div",{children:"Login failed"})]})]})})})}),Y=function(){var e=Object(i.useState)({username:"",email:"",password:""}),t=Object(D.a)(e,2),n=t[0],a=t[1],c=Object(M.a)(E),r=Object(D.a)(c,2),s=r[0],o=r[1].error,l=function(e){var t=e.target,c=t.name,r=t.value;a(Object(d.a)(Object(d.a)({},n),{},Object(_.a)({},c,r)))},j=function(){var e=Object(B.a)(L.a.mark((function e(t){var a,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,s({variables:Object(d.a)({},n)});case 4:a=e.sent,c=a.data,k.login(c.addUser.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(g.jsx)("div",{className:"col-12 col-md-6",children:Object(g.jsxs)("div",{className:"card",children:[Object(g.jsx)("h4",{className:"card-header",children:"Sign Up"}),Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsxs)("form",{onSubmit:j,children:[Object(g.jsx)("input",{className:"form-input",placeholder:"Your username",name:"username",type:"username",id:"username",value:n.username,onChange:l}),Object(g.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",id:"email",value:n.email,onChange:l}),Object(g.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",id:"password",value:n.password,onChange:l}),Object(g.jsx)("button",{className:"btn d-block w-100",type:"submit",children:"Submit"})]}),o&&Object(g.jsx)("div",{children:"Signup failed"})]})]})})})},H=Object(m.a)({uri:"/graphql"}),J=Object(x.a)((function(e,t){var n=t.headers,a=localStorage.getItem("id_token");return{headers:Object(d.a)(Object(d.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}})),R=new h.a({link:J.concat(H),cache:new p.a});var V=function(){return Object(g.jsx)(O.a,{client:R,children:Object(g.jsxs)(u.a,{children:[Object(g.jsx)(N,{}),Object(g.jsx)(S,{}),Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)(b.c,{children:[Object(g.jsx)(b.a,{exact:!0,path:"/login",component:U}),Object(g.jsx)(b.a,{exact:!0,path:"/signup",component:Y}),Object(g.jsx)(b.a,{exact:!0,path:"/postlist",component:T})]})}),Object(g.jsx)(f,{})]})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,184)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};j.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(V,{})}),document.getElementById("root")),q()}},[[153,1,2]]]);
//# sourceMappingURL=main.a8d3ae45.chunk.js.map