{"ast":null,"code":"import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _without from \"lodash-es/without\";\nimport _isEmpty from \"lodash-es/isEmpty\";\nimport _partialRight from \"lodash-es/partialRight\";\nimport _inRange from \"lodash-es/inRange\";\nimport _map from \"lodash-es/map\";\nimport _get from \"lodash-es/get\";\nimport _reduce from \"lodash-es/reduce\";\nimport _invoke from \"lodash-es/invoke\";\nimport _isPlainObject from \"lodash-es/isPlainObject\";\nimport _isUndefined from \"lodash-es/isUndefined\";\nimport cx from 'clsx';\nimport keyboardKey from 'keyboard-key';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport shallowEqual from 'shallowequal';\nimport { ModernAutoControlledComponent as Component, customPropTypes, eventStack, getElementType, getUnhandledProps, htmlInputAttrs, isBrowser, objectDiff, partitionHTMLProps, SUI, useKeyOnly, useValueAndKey } from '../../lib';\nimport Input from '../../elements/Input';\nimport SearchCategory from './SearchCategory';\nimport SearchResult from './SearchResult';\nimport SearchResults from './SearchResults';\n\nvar overrideSearchInputProps = function overrideSearchInputProps(predefinedProps) {\n  var input = predefinedProps.input;\n\n  if (_isUndefined(input)) {\n    return _extends({}, predefinedProps, {\n      input: {\n        className: 'prompt'\n      }\n    });\n  }\n\n  if (_isPlainObject(input)) {\n    return _extends({}, predefinedProps, {\n      input: _extends({}, input, {\n        className: cx(input.className, 'prompt')\n      })\n    });\n  }\n\n  return predefinedProps;\n};\n/**\n * A search module allows a user to query for results from a selection of data\n */\n\n\nvar Search = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Search, _Component);\n\n  function Search() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _this.handleResultSelect = function (e, result) {\n      _invoke(_this.props, 'onResultSelect', e, _extends({}, _this.props, {\n        result: result\n      }));\n    };\n\n    _this.handleSelectionChange = function (e) {\n      var result = _this.getSelectedResult();\n\n      _invoke(_this.props, 'onSelectionChange', e, _extends({}, _this.props, {\n        result: result\n      }));\n    };\n\n    _this.closeOnEscape = function (e) {\n      if (keyboardKey.getCode(e) !== keyboardKey.Escape) return;\n      e.preventDefault();\n\n      _this.close();\n    };\n\n    _this.moveSelectionOnKeyDown = function (e) {\n      switch (keyboardKey.getCode(e)) {\n        case keyboardKey.ArrowDown:\n          e.preventDefault();\n\n          _this.moveSelectionBy(e, 1);\n\n          break;\n\n        case keyboardKey.ArrowUp:\n          e.preventDefault();\n\n          _this.moveSelectionBy(e, -1);\n\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    _this.selectItemOnEnter = function (e) {\n      if (keyboardKey.getCode(e) !== keyboardKey.Enter) return;\n\n      var result = _this.getSelectedResult(); // prevent selecting null if there was no selected item value\n\n\n      if (!result) return;\n      e.preventDefault(); // notify the onResultSelect prop that the user is trying to change value\n\n      _this.setValue(result.title);\n\n      _this.handleResultSelect(e, result);\n\n      _this.close();\n    };\n\n    _this.closeOnDocumentClick = function (e) {\n      _this.close();\n    };\n\n    _this.handleMouseDown = function (e) {\n      _this.isMouseDown = true;\n\n      _invoke(_this.props, 'onMouseDown', e, _this.props);\n\n      eventStack.sub('mouseup', _this.handleDocumentMouseUp);\n    };\n\n    _this.handleDocumentMouseUp = function () {\n      _this.isMouseDown = false;\n      eventStack.unsub('mouseup', _this.handleDocumentMouseUp);\n    };\n\n    _this.handleInputClick = function (e) {\n      // prevent closeOnDocumentClick()\n      e.nativeEvent.stopImmediatePropagation();\n\n      _this.tryOpen();\n    };\n\n    _this.handleItemClick = function (e, _ref) {\n      var id = _ref.id;\n\n      var result = _this.getSelectedResult(id); // prevent closeOnDocumentClick()\n\n\n      e.nativeEvent.stopImmediatePropagation(); // notify the onResultSelect prop that the user is trying to change value\n\n      _this.setValue(result.title);\n\n      _this.handleResultSelect(e, result);\n\n      _this.close();\n    };\n\n    _this.handleItemMouseDown = function (e) {\n      // Heads up! We should prevent default to prevent blur events.\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/3298\n      e.preventDefault();\n    };\n\n    _this.handleFocus = function (e) {\n      _invoke(_this.props, 'onFocus', e, _this.props);\n\n      _this.setState({\n        focus: true\n      });\n    };\n\n    _this.handleBlur = function (e) {\n      _invoke(_this.props, 'onBlur', e, _this.props);\n\n      _this.setState({\n        focus: false\n      });\n    };\n\n    _this.handleSearchChange = function (e) {\n      // prevent propagating to this.props.onChange()\n      e.stopPropagation();\n      var minCharacters = _this.props.minCharacters;\n      var open = _this.state.open;\n      var newQuery = e.target.value;\n\n      _invoke(_this.props, 'onSearchChange', e, _extends({}, _this.props, {\n        value: newQuery\n      })); // open search dropdown on search query\n\n\n      if (newQuery.length < minCharacters) {\n        _this.close();\n      } else if (!open) {\n        _this.tryOpen(newQuery);\n      }\n\n      _this.setValue(newQuery);\n    };\n\n    _this.getFlattenedResults = function () {\n      var _this$props = _this.props,\n          category = _this$props.category,\n          results = _this$props.results;\n      return !category ? results : _reduce(results, function (memo, categoryData) {\n        return memo.concat(categoryData.results);\n      }, []);\n    };\n\n    _this.getSelectedResult = function (index) {\n      if (index === void 0) {\n        index = _this.state.selectedIndex;\n      }\n\n      var results = _this.getFlattenedResults();\n\n      return _get(results, index);\n    };\n\n    _this.setValue = function (value) {\n      var selectFirstResult = _this.props.selectFirstResult;\n\n      _this.setState({\n        value: value,\n        selectedIndex: selectFirstResult ? 0 : -1\n      });\n    };\n\n    _this.moveSelectionBy = function (e, offset) {\n      var selectedIndex = _this.state.selectedIndex;\n\n      var results = _this.getFlattenedResults();\n\n      var lastIndex = results.length - 1; // next is after last, wrap to beginning\n      // next is before first, wrap to end\n\n      var nextIndex = selectedIndex + offset;\n      if (nextIndex > lastIndex) nextIndex = 0;else if (nextIndex < 0) nextIndex = lastIndex;\n\n      _this.setState({\n        selectedIndex: nextIndex\n      });\n\n      _this.scrollSelectedItemIntoView();\n\n      _this.handleSelectionChange(e);\n    };\n\n    _this.scrollSelectedItemIntoView = function () {\n      // Do not access document when server side rendering\n      if (!isBrowser()) return;\n      var menu = document.querySelector('.ui.search.active.visible .results.visible');\n      if (!menu) return;\n      var item = menu.querySelector('.result.active');\n      if (!item) return;\n      var isOutOfUpperView = item.offsetTop < menu.scrollTop;\n      var isOutOfLowerView = item.offsetTop + item.clientHeight > menu.scrollTop + menu.clientHeight;\n\n      if (isOutOfUpperView) {\n        menu.scrollTop = item.offsetTop;\n      } else if (isOutOfLowerView) {\n        menu.scrollTop = item.offsetTop + item.clientHeight - menu.clientHeight;\n      }\n    };\n\n    _this.tryOpen = function (currentValue) {\n      if (currentValue === void 0) {\n        currentValue = _this.state.value;\n      }\n\n      var minCharacters = _this.props.minCharacters;\n      if (currentValue.length < minCharacters) return;\n\n      _this.open();\n    };\n\n    _this.open = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.close = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.renderSearchInput = function (rest) {\n      var _this$props2 = _this.props,\n          icon = _this$props2.icon,\n          input = _this$props2.input,\n          placeholder = _this$props2.placeholder;\n      var value = _this.state.value;\n      return Input.create(input, {\n        autoGenerateKey: false,\n        defaultProps: _extends({}, rest, {\n          autoComplete: 'off',\n          icon: icon,\n          onChange: _this.handleSearchChange,\n          onClick: _this.handleInputClick,\n          tabIndex: '0',\n          value: value,\n          placeholder: placeholder\n        }),\n        // Nested shorthand props need special treatment to survive the shallow merge\n        overrideProps: overrideSearchInputProps\n      });\n    };\n\n    _this.renderNoResults = function () {\n      var _this$props3 = _this.props,\n          noResultsDescription = _this$props3.noResultsDescription,\n          noResultsMessage = _this$props3.noResultsMessage;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"message empty\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"header\"\n      }, noResultsMessage), noResultsDescription && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"description\"\n      }, noResultsDescription));\n    };\n\n    _this.renderResult = function (_ref2, index, _array, offset) {\n      var childKey = _ref2.childKey,\n          result = _objectWithoutPropertiesLoose(_ref2, [\"childKey\"]);\n\n      if (offset === void 0) {\n        offset = 0;\n      }\n\n      var resultRenderer = _this.props.resultRenderer;\n      var selectedIndex = _this.state.selectedIndex;\n      var offsetIndex = index + offset;\n      return /*#__PURE__*/React.createElement(SearchResult, _extends({\n        key: childKey != null ? childKey : result.id || result.title,\n        active: selectedIndex === offsetIndex,\n        onClick: _this.handleItemClick,\n        onMouseDown: _this.handleItemMouseDown,\n        renderer: resultRenderer\n      }, result, {\n        id: offsetIndex // Used to lookup the result on item click\n\n      }));\n    };\n\n    _this.renderResults = function () {\n      var results = _this.props.results;\n      return _map(results, _this.renderResult);\n    };\n\n    _this.renderCategories = function () {\n      var _this$props4 = _this.props,\n          categoryLayoutRenderer = _this$props4.categoryLayoutRenderer,\n          categoryRenderer = _this$props4.categoryRenderer,\n          categories = _this$props4.results;\n      var selectedIndex = _this.state.selectedIndex;\n      var count = 0;\n      return _map(categories, function (_ref3) {\n        var childKey = _ref3.childKey,\n            category = _objectWithoutPropertiesLoose(_ref3, [\"childKey\"]);\n\n        var categoryProps = _extends({\n          key: childKey != null ? childKey : category.name,\n          active: _inRange(selectedIndex, count, count + category.results.length),\n          layoutRenderer: categoryLayoutRenderer,\n          renderer: categoryRenderer\n        }, category);\n\n        var renderFn = _partialRight(_this.renderResult, count);\n\n        count += category.results.length;\n        return /*#__PURE__*/React.createElement(SearchCategory, categoryProps, category.results.map(renderFn));\n      });\n    };\n\n    _this.renderMenuContent = function () {\n      var _this$props5 = _this.props,\n          category = _this$props5.category,\n          showNoResults = _this$props5.showNoResults,\n          results = _this$props5.results;\n\n      if (_isEmpty(results)) {\n        return showNoResults ? _this.renderNoResults() : null;\n      }\n\n      return category ? _this.renderCategories() : _this.renderResults();\n    };\n\n    _this.renderResultsMenu = function () {\n      var open = _this.state.open;\n      var resultsClasses = open ? 'visible' : '';\n\n      var menuContent = _this.renderMenuContent();\n\n      if (!menuContent) return;\n      return /*#__PURE__*/React.createElement(SearchResults, {\n        className: resultsClasses\n      }, menuContent);\n    };\n\n    return _this;\n  }\n\n  Search.getAutoControlledStateFromProps = function getAutoControlledStateFromProps(props, state) {\n    // We need to store a `prevValue` to compare as in `getDerivedStateFromProps` we don't have\n    // prevState\n    if (typeof state.prevValue !== 'undefined' && shallowEqual(state.prevValue, state.value)) {\n      return {\n        prevValue: state.value\n      };\n    }\n\n    var selectedIndex = props.selectFirstResult ? 0 : -1;\n    return {\n      prevValue: state.value,\n      selectedIndex: selectedIndex\n    };\n  };\n\n  var _proto = Search.prototype;\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    return !shallowEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    // eslint-disable-line complexity\n    // focused / blurred\n    if (!prevState.focus && this.state.focus) {\n      if (!this.isMouseDown) {\n        this.tryOpen();\n      }\n\n      if (this.state.open) {\n        eventStack.sub('keydown', [this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n      }\n    } else if (prevState.focus && !this.state.focus) {\n      if (!this.isMouseDown) {\n        this.close();\n      }\n\n      eventStack.unsub('keydown', [this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n    } // opened / closed\n\n\n    if (!prevState.open && this.state.open) {\n      this.open();\n      eventStack.sub('click', this.closeOnDocumentClick);\n      eventStack.sub('keydown', [this.closeOnEscape, this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n    } else if (prevState.open && !this.state.open) {\n      this.close();\n      eventStack.unsub('click', this.closeOnDocumentClick);\n      eventStack.unsub('keydown', [this.closeOnEscape, this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    eventStack.unsub('click', this.closeOnDocumentClick);\n    eventStack.unsub('keydown', [this.closeOnEscape, this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n  } // ----------------------------------------\n  // Document Event Handlers\n  // ----------------------------------------\n  ;\n\n  _proto.render = function render() {\n    var _this$state = this.state,\n        searchClasses = _this$state.searchClasses,\n        focus = _this$state.focus,\n        open = _this$state.open;\n    var _this$props6 = this.props,\n        aligned = _this$props6.aligned,\n        category = _this$props6.category,\n        className = _this$props6.className,\n        fluid = _this$props6.fluid,\n        loading = _this$props6.loading,\n        size = _this$props6.size; // Classes\n\n    var classes = cx('ui', open && 'active visible', size, searchClasses, useKeyOnly(category, 'category'), useKeyOnly(focus, 'focus'), useKeyOnly(fluid, 'fluid'), useKeyOnly(loading, 'loading'), useValueAndKey(aligned, 'aligned'), 'search', className);\n    var unhandled = getUnhandledProps(Search, this.props);\n    var ElementType = getElementType(Search, this.props);\n\n    var _partitionHTMLProps = partitionHTMLProps(unhandled, {\n      htmlProps: htmlInputAttrs\n    }),\n        htmlInputProps = _partitionHTMLProps[0],\n        rest = _partitionHTMLProps[1];\n\n    return /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n      className: classes,\n      onBlur: this.handleBlur,\n      onFocus: this.handleFocus,\n      onMouseDown: this.handleMouseDown\n    }), this.renderSearchInput(htmlInputProps), this.renderResultsMenu());\n  };\n\n  return Search;\n}(Component);\n\nSearch.handledProps = [\"aligned\", \"as\", \"category\", \"categoryLayoutRenderer\", \"categoryRenderer\", \"className\", \"defaultOpen\", \"defaultValue\", \"fluid\", \"icon\", \"input\", \"loading\", \"minCharacters\", \"noResultsDescription\", \"noResultsMessage\", \"onBlur\", \"onFocus\", \"onMouseDown\", \"onResultSelect\", \"onSearchChange\", \"onSelectionChange\", \"open\", \"placeholder\", \"resultRenderer\", \"results\", \"selectFirstResult\", \"showNoResults\", \"size\", \"value\"];\nexport { Search as default };\nSearch.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: PropTypes.elementType,\n  // ------------------------------------\n  // Behavior\n  // ------------------------------------\n\n  /** Initial value of open. */\n  defaultOpen: PropTypes.bool,\n\n  /** Initial value. */\n  defaultValue: PropTypes.string,\n\n  /** Shorthand for Icon. */\n  icon: PropTypes.oneOfType([PropTypes.node, PropTypes.object]),\n\n  /** Minimum characters to query for results */\n  minCharacters: PropTypes.number,\n\n  /** Additional text for \"No Results\" message with less emphasis. */\n  noResultsDescription: PropTypes.node,\n\n  /** Message to display when there are no results. */\n  noResultsMessage: PropTypes.node,\n\n  /** Controls whether or not the results menu is displayed. */\n  open: PropTypes.bool,\n\n  /**\n   * One of:\n   * - array of Search.Result props e.g. `{ title: '', description: '' }` or\n   * - object of categories e.g. `{ name: '', results: [{ title: '', description: '' }]`\n   */\n  results: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.shape(SearchResult.propTypes)), PropTypes.shape(SearchCategory.propTypes)]),\n\n  /** Whether the search should automatically select the first result after searching. */\n  selectFirstResult: PropTypes.bool,\n\n  /** Whether a \"no results\" message should be shown if no results are found. */\n  showNoResults: PropTypes.bool,\n\n  /** Current value of the search input. Creates a controlled component. */\n  value: PropTypes.string,\n  // ------------------------------------\n  // Rendering\n  // ------------------------------------\n\n  /**\n   * Renders the SearchCategory layout.\n   *\n   * @param {object} categoryContent - The Renderable SearchCategory contents.\n   * @param {object} resultsContent - The Renderable SearchResult contents.\n   * @returns {*} - Renderable SearchCategory layout.\n   */\n  categoryLayoutRenderer: PropTypes.func,\n\n  /**\n   * Renders the SearchCategory contents.\n   *\n   * @param {object} props - The SearchCategory props object.\n   * @returns {*} - Renderable SearchCategory contents.\n   */\n  categoryRenderer: PropTypes.func,\n\n  /**\n   * Renders the SearchResult contents.\n   *\n   * @param {object} props - The SearchResult props object.\n   * @returns {*} - Renderable SearchResult contents.\n   */\n  resultRenderer: PropTypes.func,\n  // ------------------------------------\n  // Callbacks\n  // ------------------------------------\n\n  /**\n   * Called on blur.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * Called on focus.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * Called on mousedown.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onMouseDown: PropTypes.func,\n\n  /**\n   * Called when a result is selected.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onResultSelect: PropTypes.func,\n\n  /**\n   * Called on search input change.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props, includes current value of search input.\n   */\n  onSearchChange: PropTypes.func,\n\n  /**\n   * Called when the active selection index is changed.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onSelectionChange: PropTypes.func,\n  // ------------------------------------\n  // Style\n  // ------------------------------------\n\n  /** A search can have its results aligned to its left or right container edge. */\n  aligned: PropTypes.string,\n\n  /** A search can display results from remote content ordered by categories. */\n  category: PropTypes.bool,\n\n  /** Additional classes. */\n  className: PropTypes.string,\n\n  /** A search can have its results take up the width of its container. */\n  fluid: PropTypes.bool,\n\n  /** Shorthand for input element. */\n  input: customPropTypes.itemShorthand,\n\n  /** A search can show a loading indicator. */\n  loading: PropTypes.bool,\n\n  /** A search can have different sizes. */\n  size: PropTypes.oneOf(_without(SUI.SIZES, 'medium')),\n\n  /** A search can show placeholder text when empty. */\n  placeholder: PropTypes.string\n} : {};\nSearch.defaultProps = {\n  icon: 'search',\n  input: 'text',\n  minCharacters: 1,\n  noResultsMessage: 'No results found.',\n  showNoResults: true\n};\nSearch.autoControlledProps = ['open', 'value'];\nSearch.Category = SearchCategory;\nSearch.Result = SearchResult;\nSearch.Results = SearchResults;","map":{"version":3,"sources":["C:/Users/poohb/Desktop/group-project-3/client/node_modules/semantic-ui-react/dist/es/modules/Search/Search.js"],"names":["_objectWithoutPropertiesLoose","_inheritsLoose","_extends","_without","_isEmpty","_partialRight","_inRange","_map","_get","_reduce","_invoke","_isPlainObject","_isUndefined","cx","keyboardKey","PropTypes","React","shallowEqual","ModernAutoControlledComponent","Component","customPropTypes","eventStack","getElementType","getUnhandledProps","htmlInputAttrs","isBrowser","objectDiff","partitionHTMLProps","SUI","useKeyOnly","useValueAndKey","Input","SearchCategory","SearchResult","SearchResults","overrideSearchInputProps","predefinedProps","input","className","Search","_Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","handleResultSelect","e","result","props","handleSelectionChange","getSelectedResult","closeOnEscape","getCode","Escape","preventDefault","close","moveSelectionOnKeyDown","ArrowDown","moveSelectionBy","ArrowUp","selectItemOnEnter","Enter","setValue","title","closeOnDocumentClick","handleMouseDown","isMouseDown","sub","handleDocumentMouseUp","unsub","handleInputClick","nativeEvent","stopImmediatePropagation","tryOpen","handleItemClick","_ref","id","handleItemMouseDown","handleFocus","setState","focus","handleBlur","handleSearchChange","stopPropagation","minCharacters","open","state","newQuery","target","value","getFlattenedResults","_this$props","category","results","memo","categoryData","index","selectedIndex","selectFirstResult","offset","lastIndex","nextIndex","scrollSelectedItemIntoView","menu","document","querySelector","item","isOutOfUpperView","offsetTop","scrollTop","isOutOfLowerView","clientHeight","currentValue","renderSearchInput","rest","_this$props2","icon","placeholder","create","autoGenerateKey","defaultProps","autoComplete","onChange","onClick","tabIndex","overrideProps","renderNoResults","_this$props3","noResultsDescription","noResultsMessage","createElement","renderResult","_ref2","_array","childKey","resultRenderer","offsetIndex","key","active","onMouseDown","renderer","renderResults","renderCategories","_this$props4","categoryLayoutRenderer","categoryRenderer","categories","count","_ref3","categoryProps","name","layoutRenderer","renderFn","map","renderMenuContent","_this$props5","showNoResults","renderResultsMenu","resultsClasses","menuContent","getAutoControlledStateFromProps","prevValue","_proto","prototype","shouldComponentUpdate","nextProps","nextState","componentDidUpdate","prevProps","prevState","componentWillUnmount","render","_this$state","searchClasses","_this$props6","aligned","fluid","loading","size","classes","unhandled","ElementType","_partitionHTMLProps","htmlProps","htmlInputProps","onBlur","onFocus","handledProps","default","propTypes","process","env","NODE_ENV","as","elementType","defaultOpen","bool","defaultValue","string","oneOfType","node","object","number","arrayOf","shape","func","onResultSelect","onSearchChange","onSelectionChange","itemShorthand","oneOf","SIZES","autoControlledProps","Category","Result","Results"],"mappings":"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","sourcesContent":["import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _without from \"lodash-es/without\";\nimport _isEmpty from \"lodash-es/isEmpty\";\nimport _partialRight from \"lodash-es/partialRight\";\nimport _inRange from \"lodash-es/inRange\";\nimport _map from \"lodash-es/map\";\nimport _get from \"lodash-es/get\";\nimport _reduce from \"lodash-es/reduce\";\nimport _invoke from \"lodash-es/invoke\";\nimport _isPlainObject from \"lodash-es/isPlainObject\";\nimport _isUndefined from \"lodash-es/isUndefined\";\nimport cx from 'clsx';\nimport keyboardKey from 'keyboard-key';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport shallowEqual from 'shallowequal';\nimport { ModernAutoControlledComponent as Component, customPropTypes, eventStack, getElementType, getUnhandledProps, htmlInputAttrs, isBrowser, objectDiff, partitionHTMLProps, SUI, useKeyOnly, useValueAndKey } from '../../lib';\nimport Input from '../../elements/Input';\nimport SearchCategory from './SearchCategory';\nimport SearchResult from './SearchResult';\nimport SearchResults from './SearchResults';\n\nvar overrideSearchInputProps = function overrideSearchInputProps(predefinedProps) {\n  var input = predefinedProps.input;\n\n  if (_isUndefined(input)) {\n    return _extends({}, predefinedProps, {\n      input: {\n        className: 'prompt'\n      }\n    });\n  }\n\n  if (_isPlainObject(input)) {\n    return _extends({}, predefinedProps, {\n      input: _extends({}, input, {\n        className: cx(input.className, 'prompt')\n      })\n    });\n  }\n\n  return predefinedProps;\n};\n/**\n * A search module allows a user to query for results from a selection of data\n */\n\n\nvar Search = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Search, _Component);\n\n  function Search() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _this.handleResultSelect = function (e, result) {\n      _invoke(_this.props, 'onResultSelect', e, _extends({}, _this.props, {\n        result: result\n      }));\n    };\n\n    _this.handleSelectionChange = function (e) {\n      var result = _this.getSelectedResult();\n\n      _invoke(_this.props, 'onSelectionChange', e, _extends({}, _this.props, {\n        result: result\n      }));\n    };\n\n    _this.closeOnEscape = function (e) {\n      if (keyboardKey.getCode(e) !== keyboardKey.Escape) return;\n      e.preventDefault();\n\n      _this.close();\n    };\n\n    _this.moveSelectionOnKeyDown = function (e) {\n      switch (keyboardKey.getCode(e)) {\n        case keyboardKey.ArrowDown:\n          e.preventDefault();\n\n          _this.moveSelectionBy(e, 1);\n\n          break;\n\n        case keyboardKey.ArrowUp:\n          e.preventDefault();\n\n          _this.moveSelectionBy(e, -1);\n\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    _this.selectItemOnEnter = function (e) {\n      if (keyboardKey.getCode(e) !== keyboardKey.Enter) return;\n\n      var result = _this.getSelectedResult(); // prevent selecting null if there was no selected item value\n\n\n      if (!result) return;\n      e.preventDefault(); // notify the onResultSelect prop that the user is trying to change value\n\n      _this.setValue(result.title);\n\n      _this.handleResultSelect(e, result);\n\n      _this.close();\n    };\n\n    _this.closeOnDocumentClick = function (e) {\n      _this.close();\n    };\n\n    _this.handleMouseDown = function (e) {\n      _this.isMouseDown = true;\n\n      _invoke(_this.props, 'onMouseDown', e, _this.props);\n\n      eventStack.sub('mouseup', _this.handleDocumentMouseUp);\n    };\n\n    _this.handleDocumentMouseUp = function () {\n      _this.isMouseDown = false;\n      eventStack.unsub('mouseup', _this.handleDocumentMouseUp);\n    };\n\n    _this.handleInputClick = function (e) {\n      // prevent closeOnDocumentClick()\n      e.nativeEvent.stopImmediatePropagation();\n\n      _this.tryOpen();\n    };\n\n    _this.handleItemClick = function (e, _ref) {\n      var id = _ref.id;\n\n      var result = _this.getSelectedResult(id); // prevent closeOnDocumentClick()\n\n\n      e.nativeEvent.stopImmediatePropagation(); // notify the onResultSelect prop that the user is trying to change value\n\n      _this.setValue(result.title);\n\n      _this.handleResultSelect(e, result);\n\n      _this.close();\n    };\n\n    _this.handleItemMouseDown = function (e) {\n      // Heads up! We should prevent default to prevent blur events.\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/3298\n      e.preventDefault();\n    };\n\n    _this.handleFocus = function (e) {\n      _invoke(_this.props, 'onFocus', e, _this.props);\n\n      _this.setState({\n        focus: true\n      });\n    };\n\n    _this.handleBlur = function (e) {\n      _invoke(_this.props, 'onBlur', e, _this.props);\n\n      _this.setState({\n        focus: false\n      });\n    };\n\n    _this.handleSearchChange = function (e) {\n      // prevent propagating to this.props.onChange()\n      e.stopPropagation();\n      var minCharacters = _this.props.minCharacters;\n      var open = _this.state.open;\n      var newQuery = e.target.value;\n\n      _invoke(_this.props, 'onSearchChange', e, _extends({}, _this.props, {\n        value: newQuery\n      })); // open search dropdown on search query\n\n\n      if (newQuery.length < minCharacters) {\n        _this.close();\n      } else if (!open) {\n        _this.tryOpen(newQuery);\n      }\n\n      _this.setValue(newQuery);\n    };\n\n    _this.getFlattenedResults = function () {\n      var _this$props = _this.props,\n          category = _this$props.category,\n          results = _this$props.results;\n      return !category ? results : _reduce(results, function (memo, categoryData) {\n        return memo.concat(categoryData.results);\n      }, []);\n    };\n\n    _this.getSelectedResult = function (index) {\n      if (index === void 0) {\n        index = _this.state.selectedIndex;\n      }\n\n      var results = _this.getFlattenedResults();\n\n      return _get(results, index);\n    };\n\n    _this.setValue = function (value) {\n      var selectFirstResult = _this.props.selectFirstResult;\n\n      _this.setState({\n        value: value,\n        selectedIndex: selectFirstResult ? 0 : -1\n      });\n    };\n\n    _this.moveSelectionBy = function (e, offset) {\n      var selectedIndex = _this.state.selectedIndex;\n\n      var results = _this.getFlattenedResults();\n\n      var lastIndex = results.length - 1; // next is after last, wrap to beginning\n      // next is before first, wrap to end\n\n      var nextIndex = selectedIndex + offset;\n      if (nextIndex > lastIndex) nextIndex = 0;else if (nextIndex < 0) nextIndex = lastIndex;\n\n      _this.setState({\n        selectedIndex: nextIndex\n      });\n\n      _this.scrollSelectedItemIntoView();\n\n      _this.handleSelectionChange(e);\n    };\n\n    _this.scrollSelectedItemIntoView = function () {\n      // Do not access document when server side rendering\n      if (!isBrowser()) return;\n      var menu = document.querySelector('.ui.search.active.visible .results.visible');\n      if (!menu) return;\n      var item = menu.querySelector('.result.active');\n      if (!item) return;\n      var isOutOfUpperView = item.offsetTop < menu.scrollTop;\n      var isOutOfLowerView = item.offsetTop + item.clientHeight > menu.scrollTop + menu.clientHeight;\n\n      if (isOutOfUpperView) {\n        menu.scrollTop = item.offsetTop;\n      } else if (isOutOfLowerView) {\n        menu.scrollTop = item.offsetTop + item.clientHeight - menu.clientHeight;\n      }\n    };\n\n    _this.tryOpen = function (currentValue) {\n      if (currentValue === void 0) {\n        currentValue = _this.state.value;\n      }\n\n      var minCharacters = _this.props.minCharacters;\n      if (currentValue.length < minCharacters) return;\n\n      _this.open();\n    };\n\n    _this.open = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.close = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.renderSearchInput = function (rest) {\n      var _this$props2 = _this.props,\n          icon = _this$props2.icon,\n          input = _this$props2.input,\n          placeholder = _this$props2.placeholder;\n      var value = _this.state.value;\n      return Input.create(input, {\n        autoGenerateKey: false,\n        defaultProps: _extends({}, rest, {\n          autoComplete: 'off',\n          icon: icon,\n          onChange: _this.handleSearchChange,\n          onClick: _this.handleInputClick,\n          tabIndex: '0',\n          value: value,\n          placeholder: placeholder\n        }),\n        // Nested shorthand props need special treatment to survive the shallow merge\n        overrideProps: overrideSearchInputProps\n      });\n    };\n\n    _this.renderNoResults = function () {\n      var _this$props3 = _this.props,\n          noResultsDescription = _this$props3.noResultsDescription,\n          noResultsMessage = _this$props3.noResultsMessage;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"message empty\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"header\"\n      }, noResultsMessage), noResultsDescription && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"description\"\n      }, noResultsDescription));\n    };\n\n    _this.renderResult = function (_ref2, index, _array, offset) {\n      var childKey = _ref2.childKey,\n          result = _objectWithoutPropertiesLoose(_ref2, [\"childKey\"]);\n\n      if (offset === void 0) {\n        offset = 0;\n      }\n\n      var resultRenderer = _this.props.resultRenderer;\n      var selectedIndex = _this.state.selectedIndex;\n      var offsetIndex = index + offset;\n      return /*#__PURE__*/React.createElement(SearchResult, _extends({\n        key: childKey != null ? childKey : result.id || result.title,\n        active: selectedIndex === offsetIndex,\n        onClick: _this.handleItemClick,\n        onMouseDown: _this.handleItemMouseDown,\n        renderer: resultRenderer\n      }, result, {\n        id: offsetIndex // Used to lookup the result on item click\n\n      }));\n    };\n\n    _this.renderResults = function () {\n      var results = _this.props.results;\n      return _map(results, _this.renderResult);\n    };\n\n    _this.renderCategories = function () {\n      var _this$props4 = _this.props,\n          categoryLayoutRenderer = _this$props4.categoryLayoutRenderer,\n          categoryRenderer = _this$props4.categoryRenderer,\n          categories = _this$props4.results;\n      var selectedIndex = _this.state.selectedIndex;\n      var count = 0;\n      return _map(categories, function (_ref3) {\n        var childKey = _ref3.childKey,\n            category = _objectWithoutPropertiesLoose(_ref3, [\"childKey\"]);\n\n        var categoryProps = _extends({\n          key: childKey != null ? childKey : category.name,\n          active: _inRange(selectedIndex, count, count + category.results.length),\n          layoutRenderer: categoryLayoutRenderer,\n          renderer: categoryRenderer\n        }, category);\n\n        var renderFn = _partialRight(_this.renderResult, count);\n\n        count += category.results.length;\n        return /*#__PURE__*/React.createElement(SearchCategory, categoryProps, category.results.map(renderFn));\n      });\n    };\n\n    _this.renderMenuContent = function () {\n      var _this$props5 = _this.props,\n          category = _this$props5.category,\n          showNoResults = _this$props5.showNoResults,\n          results = _this$props5.results;\n\n      if (_isEmpty(results)) {\n        return showNoResults ? _this.renderNoResults() : null;\n      }\n\n      return category ? _this.renderCategories() : _this.renderResults();\n    };\n\n    _this.renderResultsMenu = function () {\n      var open = _this.state.open;\n      var resultsClasses = open ? 'visible' : '';\n\n      var menuContent = _this.renderMenuContent();\n\n      if (!menuContent) return;\n      return /*#__PURE__*/React.createElement(SearchResults, {\n        className: resultsClasses\n      }, menuContent);\n    };\n\n    return _this;\n  }\n\n  Search.getAutoControlledStateFromProps = function getAutoControlledStateFromProps(props, state) {\n    // We need to store a `prevValue` to compare as in `getDerivedStateFromProps` we don't have\n    // prevState\n    if (typeof state.prevValue !== 'undefined' && shallowEqual(state.prevValue, state.value)) {\n      return {\n        prevValue: state.value\n      };\n    }\n\n    var selectedIndex = props.selectFirstResult ? 0 : -1;\n    return {\n      prevValue: state.value,\n      selectedIndex: selectedIndex\n    };\n  };\n\n  var _proto = Search.prototype;\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    return !shallowEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    // eslint-disable-line complexity\n    // focused / blurred\n    if (!prevState.focus && this.state.focus) {\n      if (!this.isMouseDown) {\n        this.tryOpen();\n      }\n\n      if (this.state.open) {\n        eventStack.sub('keydown', [this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n      }\n    } else if (prevState.focus && !this.state.focus) {\n      if (!this.isMouseDown) {\n        this.close();\n      }\n\n      eventStack.unsub('keydown', [this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n    } // opened / closed\n\n\n    if (!prevState.open && this.state.open) {\n      this.open();\n      eventStack.sub('click', this.closeOnDocumentClick);\n      eventStack.sub('keydown', [this.closeOnEscape, this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n    } else if (prevState.open && !this.state.open) {\n      this.close();\n      eventStack.unsub('click', this.closeOnDocumentClick);\n      eventStack.unsub('keydown', [this.closeOnEscape, this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    eventStack.unsub('click', this.closeOnDocumentClick);\n    eventStack.unsub('keydown', [this.closeOnEscape, this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n  } // ----------------------------------------\n  // Document Event Handlers\n  // ----------------------------------------\n  ;\n\n  _proto.render = function render() {\n    var _this$state = this.state,\n        searchClasses = _this$state.searchClasses,\n        focus = _this$state.focus,\n        open = _this$state.open;\n    var _this$props6 = this.props,\n        aligned = _this$props6.aligned,\n        category = _this$props6.category,\n        className = _this$props6.className,\n        fluid = _this$props6.fluid,\n        loading = _this$props6.loading,\n        size = _this$props6.size; // Classes\n\n    var classes = cx('ui', open && 'active visible', size, searchClasses, useKeyOnly(category, 'category'), useKeyOnly(focus, 'focus'), useKeyOnly(fluid, 'fluid'), useKeyOnly(loading, 'loading'), useValueAndKey(aligned, 'aligned'), 'search', className);\n    var unhandled = getUnhandledProps(Search, this.props);\n    var ElementType = getElementType(Search, this.props);\n\n    var _partitionHTMLProps = partitionHTMLProps(unhandled, {\n      htmlProps: htmlInputAttrs\n    }),\n        htmlInputProps = _partitionHTMLProps[0],\n        rest = _partitionHTMLProps[1];\n\n    return /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n      className: classes,\n      onBlur: this.handleBlur,\n      onFocus: this.handleFocus,\n      onMouseDown: this.handleMouseDown\n    }), this.renderSearchInput(htmlInputProps), this.renderResultsMenu());\n  };\n\n  return Search;\n}(Component);\n\nSearch.handledProps = [\"aligned\", \"as\", \"category\", \"categoryLayoutRenderer\", \"categoryRenderer\", \"className\", \"defaultOpen\", \"defaultValue\", \"fluid\", \"icon\", \"input\", \"loading\", \"minCharacters\", \"noResultsDescription\", \"noResultsMessage\", \"onBlur\", \"onFocus\", \"onMouseDown\", \"onResultSelect\", \"onSearchChange\", \"onSelectionChange\", \"open\", \"placeholder\", \"resultRenderer\", \"results\", \"selectFirstResult\", \"showNoResults\", \"size\", \"value\"];\nexport { Search as default };\nSearch.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: PropTypes.elementType,\n  // ------------------------------------\n  // Behavior\n  // ------------------------------------\n\n  /** Initial value of open. */\n  defaultOpen: PropTypes.bool,\n\n  /** Initial value. */\n  defaultValue: PropTypes.string,\n\n  /** Shorthand for Icon. */\n  icon: PropTypes.oneOfType([PropTypes.node, PropTypes.object]),\n\n  /** Minimum characters to query for results */\n  minCharacters: PropTypes.number,\n\n  /** Additional text for \"No Results\" message with less emphasis. */\n  noResultsDescription: PropTypes.node,\n\n  /** Message to display when there are no results. */\n  noResultsMessage: PropTypes.node,\n\n  /** Controls whether or not the results menu is displayed. */\n  open: PropTypes.bool,\n\n  /**\n   * One of:\n   * - array of Search.Result props e.g. `{ title: '', description: '' }` or\n   * - object of categories e.g. `{ name: '', results: [{ title: '', description: '' }]`\n   */\n  results: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.shape(SearchResult.propTypes)), PropTypes.shape(SearchCategory.propTypes)]),\n\n  /** Whether the search should automatically select the first result after searching. */\n  selectFirstResult: PropTypes.bool,\n\n  /** Whether a \"no results\" message should be shown if no results are found. */\n  showNoResults: PropTypes.bool,\n\n  /** Current value of the search input. Creates a controlled component. */\n  value: PropTypes.string,\n  // ------------------------------------\n  // Rendering\n  // ------------------------------------\n\n  /**\n   * Renders the SearchCategory layout.\n   *\n   * @param {object} categoryContent - The Renderable SearchCategory contents.\n   * @param {object} resultsContent - The Renderable SearchResult contents.\n   * @returns {*} - Renderable SearchCategory layout.\n   */\n  categoryLayoutRenderer: PropTypes.func,\n\n  /**\n   * Renders the SearchCategory contents.\n   *\n   * @param {object} props - The SearchCategory props object.\n   * @returns {*} - Renderable SearchCategory contents.\n   */\n  categoryRenderer: PropTypes.func,\n\n  /**\n   * Renders the SearchResult contents.\n   *\n   * @param {object} props - The SearchResult props object.\n   * @returns {*} - Renderable SearchResult contents.\n   */\n  resultRenderer: PropTypes.func,\n  // ------------------------------------\n  // Callbacks\n  // ------------------------------------\n\n  /**\n   * Called on blur.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * Called on focus.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * Called on mousedown.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onMouseDown: PropTypes.func,\n\n  /**\n   * Called when a result is selected.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onResultSelect: PropTypes.func,\n\n  /**\n   * Called on search input change.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props, includes current value of search input.\n   */\n  onSearchChange: PropTypes.func,\n\n  /**\n   * Called when the active selection index is changed.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onSelectionChange: PropTypes.func,\n  // ------------------------------------\n  // Style\n  // ------------------------------------\n\n  /** A search can have its results aligned to its left or right container edge. */\n  aligned: PropTypes.string,\n\n  /** A search can display results from remote content ordered by categories. */\n  category: PropTypes.bool,\n\n  /** Additional classes. */\n  className: PropTypes.string,\n\n  /** A search can have its results take up the width of its container. */\n  fluid: PropTypes.bool,\n\n  /** Shorthand for input element. */\n  input: customPropTypes.itemShorthand,\n\n  /** A search can show a loading indicator. */\n  loading: PropTypes.bool,\n\n  /** A search can have different sizes. */\n  size: PropTypes.oneOf(_without(SUI.SIZES, 'medium')),\n\n  /** A search can show placeholder text when empty. */\n  placeholder: PropTypes.string\n} : {};\nSearch.defaultProps = {\n  icon: 'search',\n  input: 'text',\n  minCharacters: 1,\n  noResultsMessage: 'No results found.',\n  showNoResults: true\n};\nSearch.autoControlledProps = ['open', 'value'];\nSearch.Category = SearchCategory;\nSearch.Result = SearchResult;\nSearch.Results = SearchResults;"]},"metadata":{},"sourceType":"module"}